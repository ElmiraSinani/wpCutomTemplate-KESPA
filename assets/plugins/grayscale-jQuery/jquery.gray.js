/*! Gray v1.4.2 (https://github.com/karlhorky/gray) | MIT */
/*! Modernizr 2.8.3 (Custom Build) | MIT & BSD */
/* Build: http://modernizr.com/download/#-inlinesvg-prefixes-css_filters-svg_filters
 */

window.Modernizr=window.Modernizr||function(e,t,n){function i(e){h.cssText=e}function r(e,t){return typeof e===t}var s,a,o,l="2.8.3",c={},d=t.documentElement,g="modernizr",u=t.createElement(g),h=u.style,f=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),p={svg:"http://www.w3.org/2000/svg"},v={},m=[],y=m.slice,w={}.hasOwnProperty;o=r(w,"undefined")||r(w.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return w.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=y.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var s=new r,a=t.apply(s,n.concat(y.call(arguments)));return Object(a)===a?a:s}return t.apply(e,n.concat(y.call(arguments)))};return i}),v.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==p.svg};for(var x in v)o(v,x)&&(a=x.toLowerCase(),c[a]=v[x](),m.push((c[a]?"":"no-")+a));return c.addTest=function(e,t){if("object"==typeof e)for(var i in e)o(e,i)&&c.addTest(i,e[i]);else{if(e=e.toLowerCase(),c[e]!==n)return c;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(d.className+=" "+(t?"":"no-")+e),c[e]=t}return c},i(""),u=s=null,c._version=l,c._prefixes=f,c}(this,this.document),Modernizr.addTest("cssfilters",function(){var e=document.createElement("div");return e.style.cssText=Modernizr._prefixes.join("filter:blur(2px); "),!!e.style.length&&(void 0===document.documentMode||document.documentMode>9)}),Modernizr.addTest("svgfilters",function(){var e=!1;try{e=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(t){}return e}),function(e,t){function n(t,n){var s,a;n=n||{},s=n.classes||{},a=s.fade||r.classes.fade,n.fade=n.fade||t.className.indexOf(a)>-1,this.element=t,this.settings=e.extend({},r,n),this._defaults=r,this._name=i,this.init()}var i="gray",r={fade:!1,classes:{fade:"grayscale-fade"}};e.extend(n.prototype,{init:function(){var t;!Modernizr.cssfilters&&Modernizr.inlinesvg&&Modernizr.svgfilters&&(t=e(this.element),(this.cssFilterDeprecated(t)||this.settings.fade)&&this.switchImage(t))},cssFilterDeprecated:function(e){return"none"===e.css("filter")},elementType:function(e){var t;return t="IMG"===e.prop("tagName")?"Img":"Bg"},getComputedStyle:function(e){var n={},i={};n=t.getComputedStyle(e,null);for(var r=0,s=n.length;s>r;r++){var a=n[r],o=n.getPropertyValue(a);i[a]=o}return i},extractUrl:function(e){var t;return startRegex=/^url\(["']?/,endRegex=/["']?\)$/,t=e.replace(startRegex,"").replace(endRegex,"")},positionToNegativeMargin:function(e){var t,n,i;return t=e.match(/^(-?\d+\S+)/)[0],n=e.match(/\s(-?\d+\S+)$/)[0],i="margin:"+n+" 0 0 "+t},getBgSize:function(t,n){var i,r,s,a,o,l,c;if(i=new Image,i.src=t,"auto"!==n&&"cover"!==n&&"contain"!==n&&"inherit"!==n){var d=e(this.element);r=i.width/i.height,a=parseInt((n.match(/^(\d+)px/)||[0,0])[1]),l=parseInt((n.match(/\s(\d+)px$/)||[0,0])[1]),s=d.height()*r,o=d.width()/r,a=a||s,l=l||o}return c=a||l?{width:a,height:l}:{width:i.width,height:i.height}},getParams:function(e){var t=this.elementType(e);return this["get"+t+"Params"](e)},getImgParams:function(e){var t={};return t.styles=this.getComputedStyle(e[0]),t.svg={url:e[0].src,width:t.styles.width.replace("px",""),height:t.styles.height.replace("px",""),offset:""},t},getBgParams:function(t){var n,i={};return n=this.extractUrl(t.css("background-image")),bgSize=this.getBgSize(n,t.css("background-size")),offset=this.positionToNegativeMargin(t.css("background-position")),i.styles=this.getComputedStyle(t[0]),i.svg=e.extend({url:n},bgSize,{offset:offset}),i},setStyles:function(e,t,n,i){return e.display="inline-block",e.overflow=e["overflow-x"]=e["overflow-y"]="hidden",e["background-image"]='url("'+t+'")',e["background-size"]=n+"px "+i+"px",delete e.filter,e},addSVGFilterOnce:function(){$body=e("body"),$body.data("plugin_"+i+"_has_filter")||$body.data("plugin_"+i+"_has_filter","true").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="position:absolute"><defs><filter id="gray"><feColorMatrix type="saturate" values="0"/></filter></defs></svg>')},switchImage:function(t){var n,i,r;n=this.getParams(t),i=this.settings.fade?this.settings.classes.fade:"",r=e('<div class="grayscale grayscale-replaced '+i+'"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+n.svg.width+" "+n.svg.height+'" width="'+n.svg.width+'" height="'+n.svg.height+'" style="'+n.svg.offset+'"><image filter="url(&quot;#gray&quot;)" x="0" y="0" width="'+n.svg.width+'" height="'+n.svg.height+'" preserveAspectRatio="none" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+n.svg.url+'" /></svg></div>'),n.styles=this.setStyles(n.styles,n.svg.url,n.svg.width,n.svg.height),r.css(n.styles),this.addSVGFilterOnce(),t.replaceWith(r)}}),e.fn[i]=function(t){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new n(this,t))}),this},e(t).on("load",function(){e(".grayscale:not(.grayscale-replaced)")[i]()})}(jQuery,window,document);